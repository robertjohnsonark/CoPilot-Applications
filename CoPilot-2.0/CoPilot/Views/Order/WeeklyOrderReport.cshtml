@model IEnumerable<CoPilot.Models.OrderSummary>
@{
    ViewBag.Title = "Weekly Order Report Preview";
}
@{ var rowname = ""; }
<div class="container">
    <div class="panel-group first-panel">
        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="RptOrder">
                <h4 class="panel-title">@ViewBag.Title</h4>
            </div>
            <div class="panel-body background75">
                @Html.ActionLink(linkText: "Operations", actionName: "Edit", controllerName: "AppSettings", routeValues: new { }, htmlAttributes: new { @class = "btn-xs btn-cp" })
                <table class="table table-bordered table-responsive table-hover table-striped">
                    <tr>
                        <th class="report">
                            Last Name
                        </th>
                        <th class="report">
                            First Name
                        </th>
                        <th class="report">
                            Partner Name
                        </th>
                        <th class="report text-right">
                            Order Date
                        </th>
                        <th class="report">
                            Product
                        </th>
                        <th class="report text-right">
                            Quantity
                        </th>
                        <th class="report text-right">
                            Price
                        </th>
                        <th class="report text-right">
                            Total
                        </th>
                    </tr>
                    @foreach (var item in Model)
                    {
                        if ((item.UserId.ToString() != @rowname) || (@rowname == ""))
                        {
                            rowname = item.UserId.ToString();
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LastName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.FirstName)
                                </td>
                            </tr>
                        }
                        <tr>
                            <td>@*Last Name*@</td>
                            <td>@*First Name*@</td>
                            <td class="report">
                                @Html.DisplayFor(modelItem => item.PartnerName)
                            </td>
                            <td class="report text-right">
                                @Html.DisplayFor(modelItem => item.OrderDate)
                            </td>
                            <td class="report">
                                @Html.DisplayFor(modelItem => item.ProductTitle)
                            </td>
                            <td class="report text-right">
                                @Html.DisplayFor(modelItem => item.Quantity)
                            </td>
                            <td class="report text-right">
                                @Html.DisplayFor(modelItem => item.Price)
                            </td>
                            <td class="report text-right">
                                @Html.DisplayFor(modelItem => item.Total)
                            </td>
                        </tr>
                    }
                </table>

            </div>
        </div>
    </div>
</div>
